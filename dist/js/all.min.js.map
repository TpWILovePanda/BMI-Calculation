{"version":3,"sources":["all.js"],"names":["addZero","num","digit","numString","String","length","analysisBMI","e","preventDefault","bmiText","colorClass","peopleWeight","value","w","parseInt","h","peopleHeight","bmi","alert","calculatorBMI","classList","contains","remove","textContent","add","addData","weight","height","bmiVal","color","todo","time","bV","bT","month","day","year","t","updateList","data","JSON","stringify","items","str","len","i","list","nodeName","console","target","localStorage","setItem","index","dataset","log","addEventListener","date","Date","getFullYear","getMonth","document","querySelector","getItem","toggleDone"],"mappings":"aAkBA,SAASA,QAAQC,EAAKC,GAAtB,IADA,IAAAC,EAAAC,OAAAH,GACSD,EAATK,OAA6BH,GACrBC,EAAYC,IAAAA,EAEZD,OAAAA,EAMR,SAASG,YAAYC,GADrBA,EAAAC,iBAEID,IAKAE,EAAAC,EALEF,EAAAA,SAAFG,aAAAC,OAEIC,EAAIC,SAASH,aAAaC,OAA9B,IAEIG,GAAID,EAAAA,KAASE,IAAAA,EAAAA,IAAaJ,QAAS,GAyBtC,GAvBGK,EAAM,MACNR,EAASC,KACTO,EAAY,QACZR,GAAA,MAAAQ,EAAA,IACAP,EAAAA,KAFJA,EAGWO,QACPR,GAAA,IAAAQ,EAAA,IACAP,EAAAA,KAFGA,EAGIO,YACPR,GAAA,IAAAQ,EAAA,IACAP,EAAAA,OAFGA,EAGIO,cACPR,GAAU,IAAVQ,EAAA,IACAP,EAAAA,OAFGA,EAGIO,aACPR,GAAU,IACVC,EAAAA,OAFGA,EAGIO,mBAEPP,EAAAA,EAFGQ,MAGA,WAGND,EAAA,CAGG,GAAIE,cAAcC,UAAUC,SAAS,SAGjCV,OAJRQ,cAASC,UAAAE,OAAA,QAAA,OAAA,OAAA,WAAA,aAAA,YAAA,kBACDH,cAAcC,YAAUC,MACxBF,aAAAA,MAAcC,QACdD,aAAAA,MAAcI,IAGdJ,cAAAC,UAAAI,IAAA,QAAAd,GALJS,cAMOI,YAAAd,EACHU,QAAAA,EAAAA,EAAcC,EAAAA,EAAcV,IAQxC,SAASe,QAAQC,EAAQC,EAAQC,EAAQnB,EAASoB,GADlD,IACAC,GACQC,EAAAA,EACAD,EAAAA,EACAjB,GAAGa,EACHX,GAAGY,EACHK,EAAAA,EACAC,EAPRC,MAAA,IAAAC,IAAA,IAAAC,MASQC,KAAAA,KAAGN,GANIO,WAAXC,MAQAA,aAAUT,QAAV,UAAAU,KAAAC,UAAAF,OAMJ,SAASD,WAAWI,GAChB,IAAIC,IAFRA,EAAA,GACAC,EAASN,EAAWI,OACZC,EAAJ,EAAAE,EAAAD,EAAAC,IACID,GAAAA,cACYC,EAAhBA,GAAyBA,EADrBD,0CAGcF,EADdG,GAAAZ,GAFAW,2FAWHF,EAAAG,GAAAb,GAXGY,uGAYJF,EAAAG,GAAAhC,EAZI+B,0GAaPF,EAAAG,GAAA9B,EAbO6B,wEAQ8CF,EAAMG,GAAGR,EARvDO,8FAeRC,EAfQD,qCAkBJE,KAAIvC,UAASwC,EAIbC,SAAAA,WAAcC,GAEdC,GADAX,EAAAA,iBACqB,WAArBW,EAAAA,OAAaC,SAAbD,CAHA,IAAIE,EAAQ7C,EAAE0C,OAAOI,QAAQD,MAOjCJ,QAAAM,IAAA/C,EAAA0C,OAAAI,QAAAD,OACAjC,KAAAA,OAAcoC,EAAAA,GACdL,aAAAC,QAAA,UAAAX,KAAAC,UAAAF,OACAO,WAAKS,OA3HL,IAAIC,KAAO,IAAIC,KADfrB,KAAAoB,KAAAE,cACIF,MAAOxD,QAAXwD,KAAAG,WAAA,EAAA,GACIvB,IAAAA,QAAYsB,KAAAA,UAAhB,GAKI1C,aAAe4C,SAASC,cAAc,iBAAtC7C,aAAe4C,SAASC,cAAc,iBAEtClD,cAAeiD,SAASC,cAAc,kBAEtC1C,KAAAA,SAAgByC,cAASC,kBAEzBf,KAAOc,KAAAA,MAASC,aAAcC,QAAA,gBA6GlC3C,cAAcoC,iBAAiB,QAASjD,aAAa,GAErDwC,KAAKS,iBAAiB,QAASQ,YAAY,GAE3CzB,WAAWC","file":"all.min.js","sourcesContent":["// 時間\r\nvar date = new Date();\r\nvar year = date.getFullYear();\r\nvar month = addZero((date.getMonth() + 1), 2);\r\nvar day = addZero(date.getDate(), 2);\r\n\r\n// 身高\r\nvar peopleHeight = document.querySelector(\"#peopleHeight\");\r\n// 體重\r\nvar peopleWeight = document.querySelector(\"#peopleWeight\");\r\n// BMI\r\nvar calculatorBMI = document.querySelector(\"#calculatorBMI\");\r\n// 列表\r\nvar list = document.querySelector(\".grid-listView\");\r\n// 資料\r\nvar data = JSON.parse(localStorage.getItem(\"BmiData\")) || [];\r\n\r\n// 補 0 讓數字對齊\r\nfunction addZero(num, digit) {\r\n    var numString = String(num);\r\n    while (numString.length < digit) {\r\n        numString = '0' + numString;\r\n    }\r\n    return numString;\r\n}\r\n\r\n// 分析 BMI 的數值\r\nfunction analysisBMI(e) {\r\n    e.preventDefault();\r\n    // 體重(公斤)\r\n    var w = parseInt(peopleWeight.value);\r\n    // 身高(公尺)\r\n    var h = parseInt(peopleHeight.value) / 100;\r\n    // BMI = 體重/身高平方\r\n    var bmi = (w / Math.pow(h, 2)).toFixed(2);\r\n    var bmiText, colorClass;\r\n    if (bmi < 18.5) {\r\n        bmiText = \"過輕\"\r\n        colorClass = \"thin\";\r\n    } else if (bmi >= 18.5 && bmi < 24) {\r\n        bmiText = \"理想\"\r\n        colorClass = \"nice\";\r\n    } else if (bmi >= 24 && bmi < 27) {\r\n        bmiText = \"過重\"\r\n        colorClass = \"tooHeavy\";\r\n    } else if (bmi >= 27 && bmi < 30) {\r\n        bmiText = \"輕度肥胖\"\r\n        colorClass = \"aLittleFat\";\r\n    } else if (bmi >= 30 && bmi < 35) {\r\n        bmiText = \"中度肥胖\"\r\n        colorClass = \"mediumFat\";\r\n    } else if (bmi >= 35) {\r\n        bmiText = \"重度肥胖\"\r\n        colorClass = \"seriousObesity\";\r\n    } else {\r\n        bmi = 0;\r\n        alert(\"請輸入數字！\");\r\n    }\r\n\r\n    if (bmi) {\r\n        if (calculatorBMI.classList.contains(\"level\")) {\r\n            calculatorBMI.classList.remove(\"level\", \"thin\", \"nice\", \"tooHeavy\", \"aLittleFat\", \"mediumFat\", \"seriousObesity\");\r\n            calculatorBMI.textContent = \"看結果\";\r\n            peopleWeight.value = \"\";\r\n            peopleHeight.value = \"\";\r\n            return;\r\n        } else {\r\n            calculatorBMI.classList.add(\"level\", colorClass);\r\n            calculatorBMI.textContent = bmiText;\r\n            addData(w, h, bmi, bmiText, colorClass);\r\n        }\r\n    }\r\n}\r\n\r\n// 將資料回傳 DOM\r\nfunction addData(weight, height, bmiVal, bmiText, color) {\r\n    var time = month + \"-\" + day + \"-\" + year;\r\n    var todo = {\r\n        w: weight,\r\n        h: height,\r\n        bV: bmiVal,\r\n        bT: bmiText,\r\n        c: color,\r\n        t: time\r\n    };\r\n    data.push(todo);\r\n    updateList(data);\r\n    localStorage.setItem(\"BmiData\", JSON.stringify(data));\r\n}\r\n\r\n// 將 localstorage 資料帶入 DOM\r\nfunction updateList(items) {\r\n    var str = \"\";\r\n    var len = items.length;\r\n    for (var i = 0; i < len; i++) {\r\n        str +=\r\n        `<li class=\"${items[i].c}\">\r\n            <div class=\"grid-item\">${items[i].bT}</div>\r\n            <div class=\"grid-item\"><em class=\"emi\">BMI</em><span class=\"emiNum\">${items[i].bV}</span></div>\r\n            <div class=\"grid-item\"><em class=\"weight\">體重</em><span class=\"weightNum\">${items[i].w}</span> kg</div>\r\n            <div class=\"grid-item\"><em class=\"height\">身高</em><span class=\"heightNum\">${items[i].h}</span> m</div>\r\n            <div class=\"grid-item\"><em class=\"date\">${items[i].t}</em></div>\r\n            <div class=\"grid-item\"><button class=\"btn btn-danger\" data-index=\"${i}\">刪除</button></div>\r\n        </li>`;\r\n    }\r\n    list.innerHTML = str;\r\n}\r\n\r\n// 刪除事件\r\nfunction toggleDone(e) {\r\n    e.preventDefault();\r\n    if (e.target.nodeName !== 'BUTTON') {\r\n        return\r\n    };\r\n    var index = e.target.dataset.index;\r\n    console.log(e.target.dataset.index);\r\n    data.splice(index, 1);\r\n    localStorage.setItem('BmiData', JSON.stringify(data));\r\n    updateList(data);\r\n}\r\n\r\n// BMI 計算監聽\r\ncalculatorBMI.addEventListener(\"click\", analysisBMI, false);\r\n// 刪除項目監聽\r\nlist.addEventListener(\"click\", toggleDone, false);\r\n// 更新資料\r\nupdateList(data);"]}